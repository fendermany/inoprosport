let inPageCodes=[{name:"buzoola",html:'<div class="buzzplayer-stage" data-hash="XKYmYyY14N3jPtX-HGY_id_5Lx3PnAUCtr6mQkltzUE"></div>',func:()=>{!function(e,t){e.onBuzzoolaPlayerReady=function(t){t.on("error",(function(){e.inPageVideoPlacer&&e.inPageVideoPlacer.replaceCode&&e.inPageVideoPlacer.replaceCode("buzoola")}))};var n=t.createElement("script");n.src="https://tube.buzzoola.com/new/build/buzzlibrary.js",n.type="text/javascript",n.async=!0;var a=t.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}(window,document)}},{name:"yandex108_1",html:'<div id="yandex_rtb_R-A-335163-108-1_auto"></div>',func:()=>{var e,t,n,a,o;e=window,t=window.document,e[n="yandexContextAsyncCallbacks"]=e[n]||[],e[n].push((function(){Ya.Context.AdvManager.render({blockId:"R-A-335163-108",renderTo:"yandex_rtb_R-A-335163-108-1_auto",async:!0},(()=>{inPageVideoPlacer.replaceCode("yandex108_1")}))})),o=t.getElementsByTagName("script")[0],(a=t.createElement("script")).type="text/javascript",a.src="//an.yandex.ru/system/context.js",a.async=!0,o.parentNode.insertBefore(a,o)}},{name:"videonow",html:'<div class="inpage-video videonow"></div>',func:()=>{let e=document.createElement("script");e.defer=!0,e.src="https://static.videonow.ru/vn_init.js?profileId=4080139",document.head.append(e),window.noVNAd=()=>{inPageVideoPlacer.replaceCode("videonow")}}},{name:"moevideo",html:"",func:()=>{let e=window;e.moevideoQueue=e.moevideoQueue||[],e.moevideoQueue.push((function(){moevideo.ContentRoll({mode:"manual",el:"#mv-auto",maxRefresh:10,ignorePlayers:!0,floatMode:"none"})}))}},{name:"yandex108_2",html:'<div id="yandex_rtb_R-A-335163-108-2_auto"></div>',func:()=>{var e,t,n,a,o;e=window,t=window.document,e[n="yandexContextAsyncCallbacks"]=e[n]||[],e[n].push((function(){Ya.Context.AdvManager.render({blockId:"R-A-335163-108",renderTo:"yandex_rtb_R-A-335163-108-2_auto",async:!0},(()=>{inPageVideoPlacer.replaceCode("yandex108_2")}))})),o=t.getElementsByTagName("script")[0],(a=t.createElement("script")).type="text/javascript",a.src="//an.yandex.ru/system/context.js",a.async=!0,o.parentNode.insertBefore(a,o)}},{name:"adsense",html:'<ins className="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-4388231966018498" data-ad-slot="6260847942"></ins>',func:()=>{(adsbygoogle=window.adsbygoogle||[]).push({})}},{name:"relap",html:'<div class="js-relap-anchor" data-relap-id="uUa5T45OOcc9SkZG"></div>',func:()=>{let e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="https://relap.io/v7/relap.js",e.setAttribute("data-relap-token","jvaOiQ2JYAP-dMfC"),document.body.append(e)}}];window.inPageVideoPlacer=window.inPageVideoPlacer||function(e,t,n,a,o,i){function r(e,t){return t=t||b,"DIV"===e.tagName&&e.classList.contains("inop_adv_wrapper")?"ad":function e(n){if(!t.includes(n.tagName))return!0;for(let t=0;t<n.children.length;t++)if(e(n.children[t]))return!0;return!1}(e)?"media":"text"}function l(t,n,a,o){if(!o)return l(t,n,a,"up")&&l(t,n,a,"down");o="up"===o;let i=0,r=P,d=!1,c=(a="after"!==a)?o?n-1:n:o?n:n+1;for(;o&&0<=c||!o&&c<v.length;c=o?c-1:c+1){if(v[c].type===t){d=!0,o&&"ad"===t&&"none"!==e.getComputedStyle(v[c].el).float&&(i-=2,r-=300);break}if(("text"===v[c].type||"ad"!==t&&"media"!==t)&&(r+=v[c].h+P,i++,(!g[t+"Dist"]||g[t+"Dist"]<=r-300)&&(!g[t+"P"]||g[t+"P"]<=i-2)))return!0}return!d&&"top"!==t&&"bottom"!==t||(!g[t+"Dist"]||g[t+"Dist"]<=r)&&(!g[t+"P"]||g[t+"P"]<=i)}function d(e,t){t="after"===t,y.push({i:t?e+1:e,anchor:v[e].el,after:t,el:null}),v.splice(t?e+1:e,0,{type:"vid",h:0})}function c(e){let t=y[e].i;v.splice(t,1),y.splice(e,1);for(let e=0;e<y.length;e++)y[e].i>t&&y[e].i--}function s(e){let t=null;switch(typeof e){case"string":for(let n=0;n<o.length;n++)if(o[n].name===e){t=o[n];break}break;case"number":t=o[e];break;case"object":t=e}return t}function u(n,a){let o=s(a);if("number"!=typeof n||n>y.length-1||0>n||!o||!o.html&&!o.func)return!1;if(o.done||y[n].el)return!1;o.done=!0,y[n].code=o;let i=y[n].el=v[y[n].i].el=t.createElement("div");i.innerHTML=o.html||"",y[n].after?y[n].anchor.after(i):y[n].anchor.before(i),"function"==typeof o.func&&o.func(e,t,y[n],v)}function f(){for(let e=0;e<o.length;e++)if(!o[e].done)return o[e];return null}let m={};if(!function(){let t=e.navigator?e.navigator.connection||e.navigator.mozConnection||e.navigator.webkitConnection:null;return!t||t.downlink||t.downlink>1}())return console.log("ConnSpeed is to low for video ads."),null;if(!o||!Array.isArray(o)||!o.length)return console.log("Нет кодов вставки для inPage"),null;let p=t.querySelector(".news-single__body");if(!p)return console.log("Не найден контейнер"),null;let g,h=e.screen?e.screen.width:null;if("object"==typeof i)if(Array.isArray(i)){if(h)for(let e=0;e<i.length;e++)if(!(i[e].maxW&&h>i[e].maxW||i[e].minW&&h<i[e].minW)){g=i[e];break}}else g=i;g&&(g.adP||g.adDist)&&(g.mediaP||g.mediaDist)&&(g.vidP||g.vidDist)||(g={adDist:2,mediaDist:1,vidDist:4}),g.topP||g.topDist||(g.topP=2),g.maxPlaces=g.maxPlaces||2,e.rulesssss=g,console.log(e.rulesssss);let y=[],v=[],P=15;if(p.children.length){let t=e.getComputedStyle(p.children[0]);P=Math.max(parseInt(t.marginTop,t.marginBottom))}let w,b=["P","BR","B","I","SPAN","U","SUB","SUP","BIG","SMALL","STRONG","FONT","CODE","UL","LI","OL","A","HR","PRE","H1","H2","H3","H4","H5","H6"];for(w=0;w<p.children.length;w++){let e=p.children[w];v.push({type:r(e),h:e.offsetHeight,el:e})}for(w=0;w<v.length;w++)l("top",w,null,"up")&&l("bottom",w,null,"down")&&l("ad",w)&&l("vid",w)&&l("media",w)&&(d(w),w++);w=v.length-1,l("top",w,"after","up")&&l("bottom",w,"after","down")&&l("ad",w,"after","up")&&l("vid",w,"after","up")&&l("media",w,"after","up")&&d(w,"after"),function(){if(g.maxPlaces>=y.length)return;let e=0,t=[],n=(y.length+1)/(g.maxPlaces+1),a=.34*n;for(;e<g.maxPlaces;e++,a+=n)t.push(Math.floor(a));for(e=y.length-1;0<=e;e--)t.includes(e)||c(e)}();for(let e=0;e<y.length;e++)u(e,o[e]);return m.getRules=()=>g,m.setRules=e=>{g=e},m.getCodes=()=>o,m.replaceCode=(e,t=null)=>{let n;for(let t=0;t<y.length;t++)if(y[t].code&&y[t].code.name===e){n=t;break}let a=s(t);(!a||a.done)&&(a=f()),function(e,t){y[e].el&&(y[e].el.remove(),y[e].el=null),t||(t=f()),u(e,t)}(n,a)},m}(window,window.document,0,0,inPageCodes,inPageRulesMap);